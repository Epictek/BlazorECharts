@page "/pie-simple"

<TindoECharts Style="@style" Option="@option"></TindoECharts>

@code {
    private string style = "width: 600px;height:400px;";

    private Option option;


    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender)
        {
            option = new Option
            {
                Title = new Title
                {
                    Text = "某站点用户访问来源",
                    Subtext = "纯属虚构",
                    Left = Align.Center,
                },
                Tooltip = new Tooltip
                {
                    Trigger = TooltipTrigger.Item,
                    Formatter = "{a} <br/>{b} : {c} ({d}%)",
                },
                Legend = new Legend
                {
                    Orient = Orient.Vertical,
                    Left = Align.Left,
                    Data = new LegendData[]
                    {
                        new LegendData{ Name = "直接访问"},
                        new LegendData{ Name = "邮件营销"},
                        new LegendData{ Name = "联盟广告"},
                        new LegendData{ Name = "视频广告"},
                        new LegendData{ Name = "搜索引擎"},
                    }
                },
                Series = new SeriesBase[]
                {
                    new PieSeries
                    {
                        Name = "访问来源",
                        Radius = "55%",
                        Center = new string[]{"50%", "60%"},
                        Data = new SeriesData[]
                        {
                            new PieSeriesData
                            {
                                Value = 335,
                                Name = "直接访问",
                            },
                            new PieSeriesData
                            {
                                Value = 310,
                                Name = "邮件营销",
                            },
                            new PieSeriesData
                            {
                                Value = 234,
                                Name = "联盟广告",
                            },
                            new PieSeriesData
                            {
                                Value = 135,
                                Name = "视频广告",
                            },
                            new PieSeriesData
                            {
                                Value = 1548,
                                Name = "搜索引擎",
                            }
                        },
                        Emphasis= new PieEmphasis
                        {
                            ItemStyle = new ItemStyle
                            {
                                ShadowBlur = 10,
                                ShadowOffsetX = 0,
                                ShadowColor = "rgba(0, 0, 0, 0.5)"
                            }
                        }

                    }
                }
            };
            this.StateHasChanged();
        }

    }

}
