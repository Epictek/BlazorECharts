@page "/positvie-negative-bar"

<TindoECharts Style="@style" Option="@option"></TindoECharts>

@code {
    private string style = "width: 800px;height:400px;";

    public Option option;

    protected override void OnAfterRender(bool firstRender)
    {
        if(firstRender)
        {
            option = new Option
            {
                Tooltip = new Tooltip
                {
                    Trigger = Trigger.Axis,
                    AxisPointer = new AxisPointer
                    {
                        Type = AxisPointerType.Shadow,
                    }
                },
                Legend = new Legend
                {
                    Data = new string[] { "利润", "支出", "收入" },
                },
                Grid = new Grid
                {
                    Left = "30%",
                    Right = "4%",
                    Bottom = "3%",
                    ContainLabel = true,
                },
                XAxis = new XAxis[]
                {
                    new XAxis
                    {
                        Type = AxisType.Value,
                    }
                },
                YAxis = new YAxis[]
                {
                    new YAxis
                    {
                        Type = AxisType.Category,
                        AxisTick = new AxisTick
                        {
                            Show = false,
                        },
                        Data = new string[] { "周一", "周二", "周三", "周四", "周五", "周六", "周日" },
                    },
                },
                Series = new Bar[]
                {
                    new Bar
                    {
                        Name = "利润",
                        Label = new Label
                        {
                            Show = true,
                            Position = LabelPosition.Inside,
                        },
                        Data = new double[] { 200, 170, 240, 244, 200, 220, 210 }
                    },
                    new Bar
                    {
                        Name = "收入",
                        Stack = "总量",
                        Label = new Label
                        {
                            Show = true,
                            Position = LabelPosition.Inside,
                        },
                        Data = new double[] { 320, 302, 341, 374, 390, 450, 420 }
                    },
                    new Bar
                    {
                        Name = "支出",
                        Stack = "总量",
                        Label = new Label
                        {
                            Show = true,
                            Position = LabelPosition.Left,
                        },
                        Data = new double[] { -120, -132, -101, -134, -190, -230, -210 }
                    }
                },
            };
            StateHasChanged();
        }
    }
}
